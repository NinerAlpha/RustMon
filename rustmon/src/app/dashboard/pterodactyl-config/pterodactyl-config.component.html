<div class="container">
  <article>
    <header>
      Pterodactyl Panel Configuration
      <svg (click)="close.emit()" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" class="svg-inline--fa fa-times fa-w-11">
        <path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z" class=""></path>
      </svg>
    </header>
    <section>
      <div class="form-group">
        <label>Panel URL</label>
        <input type="text" placeholder="https://panel.example.com" [(ngModel)]="config.panelUrl" />
      </div>
      <div class="form-group">
        <label>API Key</label>
        <input type="password" placeholder="ptlc_..." [(ngModel)]="config.apiKey" />
      </div>
      <div class="form-group">
        <label>Server ID</label>
        <input type="text" placeholder="abc123def" [(ngModel)]="config.serverId" />
      </div>
      <div class="splitted">
        <div>
          <label>SFTP Host</label>
          <input type="text" placeholder="sftp.example.com" [(ngModel)]="config.sftpHost" />
        </div>
        <div>
          <label>SFTP Port</label>
          <input type="number" placeholder="2022" [(ngModel)]="config.sftpPort" />
        </div>
      </div>
      <div class="splitted">
        <div>
          <label>SFTP Username</label>
          <input type="text" placeholder="abc123def.user" [(ngModel)]="config.sftpUsername" />
        </div>
        <div>
          <label>SFTP Password</label>
          <input type="password" [(ngModel)]="config.sftpPassword" />
        </div>
      </div>
      <div class="test-connection" *ngIf="testResult">
        <div class="success" *ngIf="testResult.success">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/>
          </svg>
          Connection successful!
        </div>
        <div class="error" *ngIf="!testResult.success">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>
          </svg>
          {{testResult.error}}
        </div>
      </div>
    </section>
    <footer>
      <button (click)="testConnection()" [class.loading]="testing">Test Connection</button>
      <button (click)="save()" [disabled]="!testResult?.success">Save Configuration</button>
    </footer>
  </article>
</div>
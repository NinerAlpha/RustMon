<div class="container">
  <article>
    <header>
      ConVars Manager
      <svg (click)="close.emit()" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" class="svg-inline--fa fa-times fa-w-11">
        <path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z" class=""></path>
      </svg>
    </header>
    <nav>
      <div class="search-section">
        <input type="text" placeholder="Search ConVars..." [(ngModel)]="searchTerm" (input)="filterConVars()">
        <select [(ngModel)]="selectedCategory" (change)="filterConVars()">
          <option value="">All Categories</option>
          <option *ngFor="let category of categories" [value]="category">{{category}}</option>
        </select>
        <button (click)="refreshConVars()" [class.loading]="loading">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path fill="currentColor" d="M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z"/>
          </svg>
          Refresh
        </button>
      </div>
    </nav>
    <section>
      <div class="convars-table">
        <div class="table-header">
          <div class="col-name">ConVar Name</div>
          <div class="col-value">Current Value</div>
          <div class="col-type">Type</div>
          <div class="col-actions">Actions</div>
        </div>
        <div class="table-body">
          <div class="convar-row" *ngFor="let convar of filteredConVars" [class.modified]="convar.modified">
            <div class="col-name">
              <span class="convar-name">{{convar.name}}</span>
              <span class="convar-category">{{convar.category}}</span>
              <div class="convar-description" *ngIf="convar.description">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" pTooltip="{{convar.description}}" tooltipPosition="top">
                  <path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/>
                </svg>
              </div>
            </div>
            <div class="col-value">
              <input 
                *ngIf="convar.editing" 
                type="text" 
                [(ngModel)]="convar.newValue" 
                (keyup.enter)="saveConVar(convar)"
                (keyup.escape)="cancelEdit(convar)"
                class="convar-input">
              <span *ngIf="!convar.editing" class="convar-value" [class.boolean]="convar.type === 'boolean'" [class.number]="convar.type === 'number'">
                {{convar.value}}
              </span>
            </div>
            <div class="col-type">
              <span class="type-badge" [class]="convar.type">{{convar.type}}</span>
            </div>
            <div class="col-actions">
              <button *ngIf="!convar.editing" class="mini" (click)="editConVar(convar)" pTooltip="Edit value">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                  <path fill="currentColor" d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/>
                </svg>
              </button>
              <button *ngIf="convar.editing" class="mini success" (click)="saveConVar(convar)" pTooltip="Save changes">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                  <path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/>
                </svg>
              </button>
              <button *ngIf="convar.editing" class="mini danger" (click)="cancelEdit(convar)" pTooltip="Cancel changes">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                  <path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="empty-state" *ngIf="filteredConVars.length === 0 && !loading">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>
        </svg>
        <h3>No ConVars found</h3>
        <p>Try adjusting your search criteria</p>
      </div>
    </section>
  </article>
</div>